@use '@angular/material' as mat;

@use './components/app-theme' as app;
@use './components/chip-theme' as chip;
@use './components/empty-theme' as empty;
@use './components/group-controls-theme' as group-controls;
@use './components/icons-container-theme' as icons-container;
@use './components/list-item-theme' as list-item;
@use './components/message-theme' as message;
@use './components/options-theme' as options;
@use './components/panel-header-theme' as panel-header;
@use './components/ripple-theme' as ripple;
@use './components/search-theme' as search;
@use './components/tabs-selector-theme' as tabs-selector;
@use './components/timeline-element-theme' as timeline-element;
@use './components/top-sites-theme' as top-sites;

@import 'common';
@import 'typography';

$dark-text: black;
$dark-primary-text: rgba($dark-text, 0.87);
$dark-secondary-text: rgba($dark-primary-text, 0.54);
$dark-disabled-text: rgba($dark-primary-text, 0.38);
$dark-dividers: rgba($dark-primary-text, 0.12);
$dark-focused: rgba($dark-primary-text, 0.12);

$light-text: white;
$light-primary-text: #9aa0a6;
$light-secondary-text: rgba($light-text, 0.7);
$light-disabled-text: rgba($light-primary-text, 0.5);
$light-dividers: rgba($light-primary-text, 0.12);
$light-focused: rgba($light-primary-text, 0.12);

$light-theme-foreground-palette: (
  base: black,
  disabled-button: rgba($dark-text, 0.26),
  disabled-text: $dark-disabled-text,
  disabled: $dark-disabled-text,
  divider: $dark-dividers,
  dividers: $dark-dividers,
  elevation: black,
  hint-text: $dark-disabled-text,
  icon: $dark-secondary-text,
  icons: $dark-secondary-text,
  secondary-text: $dark-secondary-text,
  slider-min: $dark-primary-text,
  slider-off-active: $dark-disabled-text,
  slider-off: rgba($dark-text, 0.26),
  text: $dark-primary-text,
);

$dark-theme-foreground-palette: (
  base: white,
  disabled-button: rgba($light-text, 0.3),
  disabled-text: $light-disabled-text,
  disabled: $light-disabled-text,
  divider: $light-dividers,
  dividers: $light-dividers,
  elevation: black,
  hint-text: $light-disabled-text,
  icon: $light-text,
  icons: $light-text,
  secondary-text: $light-secondary-text,
  slider-min: $light-text,
  slider-off-active: rgba($light-text, 0.3),
  slider-off: rgba($light-text, 0.3),
  text: $light-text,
);

$light-background-color: #ffffff;
$dark-background-color: #242528;

$light-background: $light-background-color;
$light-card-background: #f8f9fa;
$light-bg-darker-5: darken($light-card-background, 5%);
$light-bg-darker-10: darken($light-card-background, 10%);
$light-bg-darker-20: darken($light-card-background, 20%);
$light-bg-darker-30: darken($light-card-background, 30%);
$light-bg-lighter-5: $light-card-background;
$dark-bg-tooltip: lighten($dark-background-color, 20%);
$dark-bg-alpha-4: rgba($dark-background-color, 0.04);
$dark-bg-alpha-12: rgba($dark-background-color, 0.12);
$dark-bg-alpha-24: rgba($dark-background-color, 0.24);

$light-theme-background-palette: (
  app-bar: $light-bg-darker-5,
  background: $light-background,
  card: $light-bg-lighter-5,
  dialog: $light-bg-lighter-5,
  disabled-button-toggle: $light-bg-darker-10,
  disabled-button: $dark-bg-alpha-12,
  disabled-list-option: $light-bg-darker-10,
  focused-button: $dark-focused,
  hover: $dark-bg-alpha-4,
  raised-button: $light-bg-lighter-5,
  selected-button: $light-bg-darker-20,
  selected-disabled-button: $light-bg-darker-30,
  status-bar: $light-bg-darker-20,
  tooltip: $dark-bg-tooltip,
  unselected-chip: $light-bg-darker-10,
  ripple: $dark-bg-alpha-24,
);

$dark-background: $dark-background-color;
$dark-card-background: #303134;
$dark-bg-lighter-5: $dark-card-background;
$dark-bg-lighter-10: lighten($dark-card-background, 10%);
$dark-bg-lighter-20: lighten($dark-card-background, 20%);
$dark-bg-lighter-30: lighten($dark-card-background, 30%);
$light-bg-alpha-4: rgba($light-background-color, 0.04);
$light-bg-alpha-12: rgba($light-background-color, 0.12);
$light-bg-alpha-24: rgba($light-background-color, 0.24);

$dark-theme-background-palette: (
  app-bar: $dark-bg-lighter-5,
  background: $dark-background,
  card: $dark-bg-lighter-5,
  dialog: $dark-bg-lighter-5,
  disabled-button-toggle: $dark-bg-lighter-10,
  disabled-button: $light-bg-alpha-12,
  disabled-list-option: $dark-bg-lighter-10,
  focused-button: $light-focused,
  hover: $light-bg-alpha-4,
  raised-button: $dark-bg-lighter-5,
  selected-button: $dark-bg-lighter-20,
  selected-disabled-button: $dark-bg-lighter-30,
  status-bar: $dark-bg-lighter-20,
  tooltip: $dark-bg-lighter-20,
  unselected-chip: $dark-bg-lighter-20,
  ripple: $light-bg-alpha-24,
);

$dark-primary-main: #8ab4f8;
$dark-primary-lighter: #dbe9fd;
$dark-primary-darker: #699ef6;

$dark-primary-palette: (
  main: $dark-primary-main,
  lighter: $dark-primary-lighter,
  darker: $dark-primary-darker,
  50: #f1f6fe,
  100: #dce9fd,
  200: #c5dafc,
  300: #adcbfa,
  400: #9cbff9,
  500: #8ab4f8,
  600: #82adf7,
  700: #77a4f6,
  800: #6d9cf5,
  900: #5a8cf3,
  A100: #ffffff,
  A200: #ffffff,
  A400: #f2f6ff,
  A700: #d9e5ff,
  contrast: (
    main: $dark-primary-text,
    lighter: $light-secondary-text,
    darker: $light-primary-text,
  ),
);

$dark-theme-primary: mat.define-palette($dark-primary-palette, main, lighter, darker);

$light-primary-main: #1a73e8;
$light-primary-lighter: #bad5f8;
$light-primary-darker: #0f56de;

$light-primary-palette: (
  main: $light-primary-main,
  lighter: $light-primary-lighter,
  darker: $light-primary-darker,
  50: #e4eefc,
  100: #bad5f8,
  200: #8db9f4,
  300: #5f9def,
  400: #3c88eb,
  500: #1a73e8,
  600: #176be5,
  700: #1360e2,
  800: #0f56de,
  900: #0843d8,
  A100: #ffffff,
  A200: #cfdaff,
  A400: #9cb3ff,
  A700: #829fff,
  contrast: (
    main: $light-text,
    lighter: $light-secondary-text,
    darker: $light-secondary-text,
  ),
);

$light-theme-primary: mat.define-palette($light-primary-palette, main, lighter, darker);

$dark-accent-main: hsl(340, 82%, 52%);
$dark-accent-lighter: hsl(340, 89%, 93%);
$dark-accent-darker: hsl(340, 82%, 52%);

$dark-accent-palette: (
  main: $dark-accent-main,
  lighter: $dark-accent-lighter,
  darker: $dark-accent-darker,
  50: #fce4ec,
  100: #f8bcd0,
  200: #f490b1,
  300: #f06392,
  400: #ec417a,
  500: #e92063,
  600: #e61c5b,
  700: #e31851,
  800: #df1347,
  900: #d90b35,
  A100: #ffffff,
  A200: #ffd1d9,
  A400: #ff9eae,
  A700: #ff8599,
  contrast: (
    main: $light-text,
    lighter: $light-text,
    darker: $light-primary-text,
  ),
);

$dark-theme-accent: mat.define-palette($dark-accent-palette, main, lighter, darker);

$light-accent-main: hsl(340, 82%, 51%);
$light-accent-lighter: hsl(340, 82%, 85%);
$light-accent-darker: hsl(340, 100%, 63%);

$light-accent-palette: (
  main: $light-accent-main,
  lighter: $light-accent-lighter,
  darker: $light-accent-darker,
  50: #fce4ec,
  100: #f8bbcf,
  200: #f48eb0,
  300: #f06090,
  400: #ec3e78,
  500: #e91c60,
  600: #e61958,
  700: #e3144e,
  800: #df1144,
  900: #d90933,
  A100: #ffffff,
  A200: #ffd0d8,
  A400: #ff9dad,
  A700: #ff8497,
  contrast: (
    main: $light-text,
    lighter: $light-secondary-text,
    darker: $light-secondary-text,
  ),
);

$light-theme-accent: mat.define-palette($light-accent-palette, main, lighter, darker);

$dark-warn-main: #f44336;
$dark-warn-lighter: hsl(4, 92%, 85%);
$dark-warn-darker: hsl(4, 97%, 48%);

$dark-warn-palette: (
  main: $dark-warn-main,
  lighter: $dark-warn-lighter,
  darker: $dark-warn-darker,
  50: #fee8e7,
  100: #fcc7c3,
  200: #faa19b,
  300: #f77b72,
  400: #f65f54,
  500: #f44336,
  600: #f33d30,
  700: #f13429,
  800: #ef2c22,
  900: #ec1e16,
  A100: #ffffff,
  A200: #ffe9e9,
  A400: #ffb8b6,
  A700: #ff9f9c,
  contrast: (
    main: $light-text,
    lighter: $light-secondary-text,
    darker: $light-secondary-text,
  ),
);

$dark-theme-warn: mat.define-palette($dark-warn-palette, main, lighter, darker);

$dark-theme: mat.define-dark-theme(
  (
    color: (
      primary: $dark-theme-primary,
      accent: $dark-theme-accent,
      warn: $dark-theme-warn,
      is-dark: true,
    ),
    typography: $typographyConfig,
    density: 0,
  )
);

$dark-theme: modify-theme($dark-theme, $dark-theme-background-palette, $dark-theme-foreground-palette);

$light-theme: mat.define-light-theme(
  (
    color: (
      primary: $light-theme-primary,
      accent: $light-theme-accent,
      warn: $dark-theme-warn,
      is-dark: false,
    ),
  )
);

$light-theme: modify-theme($light-theme, $light-theme-background-palette, $light-theme-foreground-palette);

.mat-raised-button.mat-warn,
.mat-fab.mat-warn,
.mat-mini-fab.mat-warn,
.mat-flat-button,
.mat-raised-button,
.mat-fab,
.mat-mini-fab {
  background-color: $dark-background;
}

.mat-mdc-form-field-hint {
  color: $light-secondary-text;
}

@include mat.core();

@include mat.all-component-themes($dark-theme);
@include app.theme($dark-theme);
@include chip.theme($dark-theme);
@include empty.theme($dark-theme);
@include group-controls.theme($dark-theme);
@include icons-container.theme($dark-theme);
@include list-item.theme($dark-theme);
@include message.theme($dark-theme);
@include options.theme($dark-theme);
@include panel-header.theme($dark-theme);
@include ripple.theme($dark-theme);
@include search.theme($dark-theme);
@include tabs-selector.theme($dark-theme);
@include timeline-element.theme($dark-theme);
@include top-sites.theme($dark-theme);

@media (prefers-color-scheme: light) {
  .mat-raised-button.mat-warn,
  .mat-fab.mat-warn,
  .mat-mini-fab.mat-warn,
  .mat-flat-button,
  .mat-raised-button,
  .mat-fab,
  .mat-mini-fab {
    background-color: $light-background;
  }

  .mat-mdc-form-field-hint {
    color: $dark-secondary-text;
  }

  @include mat.all-component-colors($light-theme);
  @include app.theme($light-theme);
  @include chip.theme($light-theme);
  @include empty.theme($light-theme);
  @include group-controls.theme($light-theme);
  @include icons-container.theme($light-theme);
  @include list-item.theme($light-theme);
  @include message.theme($light-theme);
  @include options.theme($light-theme);
  @include panel-header.theme($light-theme);
  @include ripple.theme($light-theme);
  @include search.theme($light-theme);
  @include tabs-selector.theme($light-theme);
  @include timeline-element.theme($light-theme);
  @include top-sites.theme($light-theme);
}
