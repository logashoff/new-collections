<section class="controls-wrapper">
  <form class="search-form" [formGroup]="formGroup">
    <mat-form-field class="search-field" appearance="fill">
      <mat-icon matPrefix>search</mat-icon>
      <input
        #searchInput
        type="text"
        matInput
        formControlName="search"
        (focus)="focused.set(true)"
        (blur)="onBlur()"
        autocomplete="off" />
    </mat-form-field>
  </form>

  <div class="controls">
    @if (isActive$ | async) {
      <button
        mat-icon-button
        color="primary"
        [matTooltip]="'cancelSearch' | translate"
        (click)="clearSearch()">
        <mat-icon>close</mat-icon>
      </button>
    } @else {
      <button
        mat-icon-button
        color="primary"
        [matTooltip]="'addCollection' | translate"
        (click)="handleAction(Action.Save)"
        data-testid="add-collections">
        <mat-icon>add</mat-icon>
      </button>
    }
  </div>
</section>
